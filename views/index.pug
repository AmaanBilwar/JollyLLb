doctype html
html
  head
    title Chatbot
    link(rel="stylesheet", href="/css/output.css")
  body
    .flex.justify-center.items-center.h-screen.bg-gray-100
      .bg-white.shadow-lg.rounded-lg.max-w-md.w-full.flex.flex-col.overflow-hidden
        h1.bg-blue-500.text-white.text-xl.p-4 Chat with our Bot
        .chat-box.flex-1.overflow-y-auto.p-4
          .messages
        form#chat-form.flex.border-t.border-gray-200.bg-white(action="/chat", method="post")
          input#message.w-full.p-2.border.border-gray-200.rounded(type="text", placeholder="Type your message here")
          button.px-4.py-2.bg-blue-500.text-white(type="submit") Send

    script.
      const form = document.getElementById('chat-form');
      const messagesDiv = document.querySelector('.messages');

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const messageInput = document.getElementById('message');
        const userMessage = messageInput.value;

        // Display the user's message
        const userMessageElement = document.createElement('div');
        userMessageElement.classList.add('message', 'user-message', 'bg-green-200', 'mb-2', 'p-2', 'rounded');
        userMessageElement.textContent = userMessage;
        messagesDiv.appendChild(userMessageElement);

        // Send the message to the server
        try {
          const response = await fetch('/chat', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({ message: userMessage }),
          });

          if (!response.ok) throw new Error('Network response was not ok');

          const data = await response.json();

          // Display the bot's response
          const botMessageElement = document.createElement('div');
          botMessageElement.classList.add('message', 'bot-message', 'bg-gray-200', 'mb-2', 'p-2', 'rounded');
          botMessageElement.textContent = data.botMessage;
          messagesDiv.appendChild(botMessageElement);

          // Automatically scroll to the bottom
          messagesDiv.scrollTop = messagesDiv.scrollHeight;

          messageInput.value = '';
        } catch (error) {
          console.error('Error:', error);
        }
      })